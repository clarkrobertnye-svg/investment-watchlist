<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capital Compounders - 92 High-Conviction Stocks</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0f; color: #e0e0e0; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { font-size: 2.2rem; color: #fff; margin-bottom: 10px; }
        .header p { color: #888; font-size: 0.95rem; }
        .stats-bar { display: flex; justify-content: center; gap: 40px; margin: 20px 0; flex-wrap: wrap; }
        .stat { text-align: center; }
        .stat-value { font-size: 2rem; font-weight: 700; color: #4ade80; }
        .stat-value.machines { color: #f59e0b; }
        .stat-value.cows { color: #3b82f6; }
        .stat-label { font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .controls { display: flex; justify-content: center; gap: 15px; margin: 25px 0; flex-wrap: wrap; align-items: center; }
        .btn { padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; font-weight: 500; transition: all 0.2s; }
        .btn-all { background: #374151; color: #fff; }
        .btn-machines { background: #78350f; color: #fbbf24; }
        .btn-cows { background: #1e3a5f; color: #60a5fa; }
        .btn:hover { transform: translateY(-2px); opacity: 0.9; }
        .btn.active { box-shadow: 0 0 0 2px #fff; }
        .search-box { padding: 10px 15px; border: 1px solid #333; border-radius: 6px; background: #1a1a2e; color: #fff; font-size: 0.9rem; width: 200px; }
        .search-box:focus { outline: none; border-color: #4ade80; }
        .table-container { overflow-x: auto; border-radius: 10px; background: #12121a; border: 1px solid #222; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        th { background: #1a1a2e; color: #888; font-weight: 600; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.5px; padding: 14px 12px; text-align: left; cursor: pointer; white-space: nowrap; position: sticky; top: 0; }
        th:hover { color: #fff; background: #252538; }
        td { padding: 12px; border-bottom: 1px solid #1f1f2e; }
        tr:hover { background: #1a1a2e; }
        .ticker { font-weight: 700; color: #fff; font-size: 0.95rem; }
        .type-machine { color: #fbbf24; }
        .type-cow { color: #60a5fa; }
        .metric { font-family: 'SF Mono', Monaco, monospace; }
        .metric-good { color: #4ade80; }
        .metric-great { color: #22d3ee; font-weight: 600; }
        .metric-warn { color: #fbbf24; }
        .metrics-reference { margin-top: 40px; padding: 25px; background: #12121a; border-radius: 10px; border: 1px solid #222; }
        .metrics-reference h3 { color: #fff; margin-bottom: 20px; font-size: 1.2rem; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
        .metric-card { background: #1a1a2e; padding: 15px; border-radius: 8px; border-left: 3px solid #4ade80; }
        .metric-card h4 { color: #4ade80; font-size: 0.9rem; margin-bottom: 8px; }
        .metric-card p { color: #888; font-size: 0.8rem; line-height: 1.5; }
        .metric-card .target { color: #22d3ee; font-weight: 600; }
        .updated { text-align: center; color: #555; font-size: 0.75rem; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Capital Compounders</h1>
        <p>92 High-Conviction Stocks | Machines + Cash Cows with 15%+ Expected Returns</p>
    </div>
    <div class="stats-bar">
        <div class="stat"><div class="stat-value">92</div><div class="stat-label">Total Stocks</div></div>
        <div class="stat"><div class="stat-value machines">40</div><div class="stat-label">Machines</div></div>
        <div class="stat"><div class="stat-value cows">52</div><div class="stat-label">Cash Cows</div></div>
    </div>
    <div class="controls">
        <button class="btn btn-all active" onclick="filterType('all')">All (92)</button>
        <button class="btn btn-machines" onclick="filterType('machine')">Machines (40)</button>
        <button class="btn btn-cows" onclick="filterType('cow')">Cash Cows (52)</button>
        <input type="text" class="search-box" placeholder="Search ticker..." oninput="searchTicker(this.value)">
    </div>
    <div class="table-container">
        <table id="stockTable">
            <thead><tr>
                <th onclick="sortTable('type')">Type</th>
                <th onclick="sortTable('ticker')">Ticker</th>
                <th onclick="sortTable('roiic')">ROIIC</th>
                <th onclick="sortTable('reinvRate')">Reinv Rate</th>
                <th onclick="sortTable('compPower')">Comp Power</th>
                <th onclick="sortTable('roic')">ROIC</th>
                <th onclick="sortTable('vcr')">VCR</th>
                <th onclick="sortTable('gm')">GM</th>
                <th onclick="sortTable('fcfNi')">FCF/NI</th>
                <th onclick="sortTable('fcfDebt')">FCF/Debt</th>
            </tr></thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>
    <div class="metrics-reference">
        <h3>Key Metrics Reference</h3>
        <div class="metrics-grid">
            <div class="metric-card"><h4>ROIIC</h4><p>Return on Incremental Invested Capital. <span class="target">Target: 20%+</span></p></div>
            <div class="metric-card"><h4>Reinvestment Rate</h4><p>Profit reinvested for growth. <span class="target">Higher = more runway</span></p></div>
            <div class="metric-card"><h4>Compounding Power</h4><p>ROIIC x Reinvestment Rate. <span class="target">20%+ = Machine</span></p></div>
            <div class="metric-card"><h4>ROIC</h4><p>Return on Invested Capital. <span class="target">Target: 15%+</span></p></div>
            <div class="metric-card"><h4>VCR</h4><p>Value Creation Ratio (ROIC/WACC). <span class="target">Target: 2.0x+</span></p></div>
            <div class="metric-card"><h4>Gross Margin</h4><p>Pricing power indicator. <span class="target">Target: 25%+</span></p></div>
            <div class="metric-card"><h4>FCF/NI</h4><p>Earnings quality. <span class="target">Target: 70%+</span></p></div>
            <div class="metric-card"><h4>FCF/Debt</h4><p>Balance sheet strength. <span class="target">Target: 25%+</span></p></div>
        </div>
    </div>
    <div class="updated">Last updated: February 2, 2026 | Removed: CALM, BRFS (commodity), GOOG (duplicate), GDDY, FELE, HUBB, VMI, WHD, CRUS (low VCR/no moat)</div>
    <script>
        const stocks = [
            // MACHINES (40) - removed CALM, GOOG duplicate
            {type:'machine',ticker:'VITL',roiic:2.69,reinvRate:0.58,compPower:1.56,roic:0.37,vcr:3.7,gm:0.38,fcfNi:1.21,fcfDebt:1.91},
            {type:'machine',ticker:'ITT',roiic:0.86,reinvRate:1.49,compPower:1.29,roic:0.17,vcr:1.7,gm:0.34,fcfNi:1.09,fcfDebt:0.58},
            {type:'machine',ticker:'ADP',roiic:2.44,reinvRate:0.49,compPower:1.20,roic:0.46,vcr:4.6,gm:0.51,fcfNi:1.21,fcfDebt:0.53},
            {type:'machine',ticker:'YELP',roiic:0.73,reinvRate:1.39,compPower:1.02,roic:0.19,vcr:1.9,gm:0.91,fcfNi:2.15,fcfDebt:5.76},
            {type:'machine',ticker:'BBW',roiic:1.67,reinvRate:0.57,compPower:0.95,roic:0.27,vcr:2.7,gm:0.55,fcfNi:0.91,fcfDebt:0.29},
            {type:'machine',ticker:'CVLT',roiic:0.61,reinvRate:1.30,compPower:0.80,roic:0.21,vcr:2.1,gm:0.82,fcfNi:2.72,fcfDebt:18.59},
            {type:'machine',ticker:'PTRN',roiic:2.59,reinvRate:0.26,compPower:0.66,roic:0.28,vcr:2.8,gm:0.44,fcfNi:1.04,fcfDebt:1.66},
            {type:'machine',ticker:'PAYO',roiic:0.71,reinvRate:0.93,compPower:0.66,roic:0.37,vcr:3.7,gm:0.84,fcfNi:1.46,fcfDebt:5.45},
            {type:'machine',ticker:'FTOCU',roiic:0.71,reinvRate:0.93,compPower:0.66,roic:0.37,vcr:3.7,gm:0.84,fcfNi:1.46,fcfDebt:5.45},
            {type:'machine',ticker:'CPNG',roiic:0.43,reinvRate:1.46,compPower:0.63,roic:0.19,vcr:1.9,gm:0.29,fcfNi:28.58,fcfDebt:0.27},
            {type:'machine',ticker:'MLI',roiic:0.50,reinvRate:1.22,compPower:0.61,roic:0.31,vcr:3.1,gm:0.28,fcfNi:1.05,fcfDebt:16.76},
            {type:'machine',ticker:'LNTH',roiic:2.95,reinvRate:0.19,compPower:0.57,roic:0.41,vcr:4.1,gm:0.64,fcfNi:1.74,fcfDebt:0.80},
            {type:'machine',ticker:'SEAS',roiic:2.30,reinvRate:0.24,compPower:0.56,roic:0.17,vcr:1.7,gm:0.92,fcfNi:2.11,fcfDebt:1.72},
            {type:'machine',ticker:'ULTA',roiic:1.16,reinvRate:0.47,compPower:0.55,roic:0.34,vcr:3.4,gm:0.39,fcfNi:1.11,fcfDebt:0.50},
            {type:'machine',ticker:'PLAB',roiic:0.52,reinvRate:0.92,compPower:0.48,roic:0.17,vcr:1.7,gm:0.35,fcfNi:1.82,fcfDebt:2.60},
            {type:'machine',ticker:'SHOO',roiic:1.25,reinvRate:0.33,compPower:0.41,roic:0.21,vcr:2.1,gm:0.41,fcfNi:1.13,fcfDebt:1.13},
            {type:'machine',ticker:'BMI',roiic:0.33,reinvRate:1.20,compPower:0.40,roic:0.23,vcr:2.3,gm:0.42,fcfNi:1.30,fcfDebt:10.00},
            {type:'machine',ticker:'COKE',roiic:1.33,reinvRate:0.30,compPower:0.39,roic:0.24,vcr:2.4,gm:0.40,fcfNi:1.38,fcfDebt:0.26},
            {type:'machine',ticker:'ASR',roiic:2.05,reinvRate:0.19,compPower:0.39,roic:0.23,vcr:2.3,gm:0.64,fcfNi:1.15,fcfDebt:0.83},
            {type:'machine',ticker:'VMEO',roiic:0.69,reinvRate:0.54,compPower:0.38,roic:0.17,vcr:1.7,gm:0.78,fcfNi:2.11,fcfDebt:4.78},
            {type:'machine',ticker:'MWA',roiic:2.62,reinvRate:0.14,compPower:0.37,roic:0.18,vcr:1.8,gm:0.36,fcfNi:1.14,fcfDebt:0.36},
            {type:'machine',ticker:'ADSK',roiic:0.29,reinvRate:1.19,compPower:0.35,roic:0.25,vcr:2.5,gm:0.91,fcfNi:1.45,fcfDebt:0.59},
            {type:'machine',ticker:'APH',roiic:0.39,reinvRate:0.85,compPower:0.33,roic:0.24,vcr:2.4,gm:0.37,fcfNi:1.26,fcfDebt:0.28},
            {type:'machine',ticker:'PCTY',roiic:0.25,reinvRate:1.33,compPower:0.33,roic:0.21,vcr:2.1,gm:0.69,fcfNi:1.84,fcfDebt:1.57},
            {type:'machine',ticker:'ROST',roiic:1.02,reinvRate:0.32,compPower:0.33,roic:0.35,vcr:3.5,gm:0.28,fcfNi:1.13,fcfDebt:0.29},
            {type:'machine',ticker:'GOOGL',roiic:0.53,reinvRate:0.58,compPower:0.30,roic:0.25,vcr:2.5,gm:0.58,fcfNi:1.25,fcfDebt:2.86},
            {type:'machine',ticker:'GWW',roiic:1.00,reinvRate:0.29,compPower:0.29,roic:0.36,vcr:3.6,gm:0.39,fcfNi:1.06,fcfDebt:0.49},
            {type:'machine',ticker:'TSM',roiic:0.55,reinvRate:0.53,compPower:0.29,roic:0.40,vcr:4.0,gm:0.60,fcfNi:1.37,fcfDebt:1.11},
            {type:'machine',ticker:'VLTO',roiic:0.57,reinvRate:0.50,compPower:0.28,roic:0.22,vcr:2.2,gm:0.60,fcfNi:1.05,fcfDebt:0.30},
            {type:'machine',ticker:'IBEX',roiic:0.33,reinvRate:0.79,compPower:0.26,roic:0.20,vcr:2.0,gm:0.31,fcfNi:1.24,fcfDebt:0.39},
            {type:'machine',ticker:'MRK',roiic:0.57,reinvRate:0.44,compPower:0.25,roic:0.20,vcr:2.0,gm:0.76,fcfNi:1.25,fcfDebt:0.47},
            {type:'machine',ticker:'MDXG',roiic:1.17,reinvRate:0.20,compPower:0.24,roic:0.39,vcr:3.9,gm:0.83,fcfNi:1.58,fcfDebt:2.60},
            {type:'machine',ticker:'FTNT',roiic:0.57,reinvRate:0.41,compPower:0.23,roic:0.48,vcr:4.8,gm:0.81,fcfNi:1.29,fcfDebt:1.89},
            {type:'machine',ticker:'TJX',roiic:0.73,reinvRate:0.30,compPower:0.22,roic:0.31,vcr:3.1,gm:0.31,fcfNi:1.26,fcfDebt:0.33},
            {type:'machine',ticker:'TGLS',roiic:0.49,reinvRate:0.45,compPower:0.22,roic:0.28,vcr:2.8,gm:0.43,fcfNi:1.06,fcfDebt:0.83},
            {type:'machine',ticker:'CEO',roiic:0.73,reinvRate:0.30,compPower:0.22,roic:0.18,vcr:1.8,gm:0.54,fcfNi:1.60,fcfDebt:1.06},
            {type:'machine',ticker:'WSM',roiic:0.69,reinvRate:0.31,compPower:0.22,roic:0.49,vcr:4.9,gm:0.46,fcfNi:1.21,fcfDebt:0.85},
            {type:'machine',ticker:'FLT',roiic:0.44,reinvRate:0.48,compPower:0.21,roic:0.17,vcr:1.7,gm:1.00,fcfNi:1.93,fcfDebt:0.26},
            {type:'machine',ticker:'MNKD',roiic:0.30,reinvRate:0.68,compPower:0.21,roic:0.20,vcr:2.0,gm:0.73,fcfNi:1.54,fcfDebt:0.69},
            {type:'machine',ticker:'AIT',roiic:0.33,reinvRate:0.62,compPower:0.20,roic:0.17,vcr:1.7,gm:0.30,fcfNi:1.25,fcfDebt:0.81},
            // CASH COWS (52) - removed BRFS, GDDY, FELE, HUBB, VMI, WHD, CRUS
            {type:'cow',ticker:'MELI',roiic:0.38,reinvRate:-1.49,compPower:0,roic:0.33,vcr:3.3,gm:0.46,fcfNi:4.14,fcfDebt:1.03},
            {type:'cow',ticker:'CELH',roiic:0.25,reinvRate:0.25,compPower:0.06,roic:0.23,vcr:2.3,gm:0.50,fcfNi:1.81,fcfDebt:11.83},
            {type:'cow',ticker:'NVDA',roiic:0.95,reinvRate:0.19,compPower:0.18,roic:0.72,vcr:7.2,gm:0.75,fcfNi:0.88,fcfDebt:5.93},
            {type:'cow',ticker:'DFS',roiic:0.90,reinvRate:0.05,compPower:0.05,roic:0.41,vcr:4.1,gm:0.89,fcfNi:1.86,fcfDebt:0.50},
            {type:'cow',ticker:'HRMY',roiic:0.42,reinvRate:0.12,compPower:0.05,roic:0.39,vcr:3.9,gm:0.78,fcfNi:1.51,fcfDebt:1.21},
            {type:'cow',ticker:'WIRE',roiic:0.44,reinvRate:0.33,compPower:0.15,roic:0.27,vcr:2.7,gm:0.26,fcfNi:1.22,fcfDebt:10.00},
            {type:'cow',ticker:'HDL',roiic:0.64,reinvRate:-0.28,compPower:0,roic:0.49,vcr:4.9,gm:0.30,fcfNi:3.60,fcfDebt:0.40},
            {type:'cow',ticker:'CMG',roiic:0.45,reinvRate:0.11,compPower:0.05,roic:0.20,vcr:2.0,gm:0.27,fcfNi:1.37,fcfDebt:0.33},
            {type:'cow',ticker:'EXEL',roiic:0.52,reinvRate:0.11,compPower:0.06,roic:0.19,vcr:1.9,gm:0.96,fcfNi:1.34,fcfDebt:3.32},
            {type:'cow',ticker:'AERO',roiic:0.39,reinvRate:-0.07,compPower:0,roic:0.34,vcr:3.4,gm:0.31,fcfNi:2.21,fcfDebt:1.95},
            {type:'cow',ticker:'ODC',roiic:0.38,reinvRate:0.22,compPower:0.08,roic:0.19,vcr:1.9,gm:0.29,fcfNi:1.48,fcfDebt:0.86},
            {type:'cow',ticker:'OMAB',roiic:0.42,reinvRate:0.06,compPower:0.03,roic:0.27,vcr:2.7,gm:0.65,fcfNi:1.26,fcfDebt:0.51},
            {type:'cow',ticker:'IESC',roiic:0.55,reinvRate:0.26,compPower:0.14,roic:0.34,vcr:3.4,gm:0.25,fcfNi:0.92,fcfDebt:1.39},
            {type:'cow',ticker:'IBKR',roiic:0.24,reinvRate:-0.78,compPower:0,roic:0.16,vcr:1.6,gm:0.90,fcfNi:2.56,fcfDebt:456.58},
            {type:'cow',ticker:'ANET',roiic:0.31,reinvRate:-0.46,compPower:0,roic:0.26,vcr:2.6,gm:0.64,fcfNi:1.30,fcfDebt:10.00},
            {type:'cow',ticker:'VRT',roiic:0.39,reinvRate:-0.18,compPower:0,roic:0.22,vcr:2.2,gm:0.34,fcfNi:2.66,fcfDebt:0.36},
            {type:'cow',ticker:'IPAR',roiic:0.39,reinvRate:0.13,compPower:0.05,roic:0.22,vcr:2.2,gm:0.64,fcfNi:0.92,fcfDebt:0.95},
            {type:'cow',ticker:'LULU',roiic:0.78,reinvRate:0.24,compPower:0.19,roic:0.50,vcr:5.0,gm:0.59,fcfNi:1.25,fcfDebt:1.00},
            {type:'cow',ticker:'USLM',roiic:1.08,reinvRate:0.15,compPower:0.16,roic:0.38,vcr:3.8,gm:0.45,fcfNi:1.16,fcfDebt:19.57},
            {type:'cow',ticker:'PAYC',roiic:0.41,reinvRate:0.31,compPower:0.13,roic:0.31,vcr:3.1,gm:0.82,fcfNi:1.06,fcfDebt:4.09},
            {type:'cow',ticker:'NVMI',roiic:0.21,reinvRate:-0.08,compPower:0,roic:0.17,vcr:1.7,gm:0.58,fcfNi:1.28,fcfDebt:0.92},
            {type:'cow',ticker:'LRN',roiic:0.58,reinvRate:0.08,compPower:0.05,roic:0.22,vcr:2.2,gm:0.39,fcfNi:1.50,fcfDebt:0.68},
            {type:'cow',ticker:'BLD',roiic:0.25,reinvRate:0.14,compPower:0.03,roic:0.19,vcr:1.9,gm:0.30,fcfNi:1.25,fcfDebt:0.45},
            {type:'cow',ticker:'TTD',roiic:0.21,reinvRate:0.71,compPower:0.15,roic:0.17,vcr:1.7,gm:0.81,fcfNi:1.88,fcfDebt:2.03},
            {type:'cow',ticker:'RJF',roiic:0.67,reinvRate:0.03,compPower:0.02,roic:0.31,vcr:3.1,gm:0.88,fcfNi:1.14,fcfDebt:0.49},
            {type:'cow',ticker:'NSSC',roiic:1.97,reinvRate:-0.21,compPower:0,roic:0.38,vcr:3.8,gm:0.56,fcfNi:1.23,fcfDebt:9.64},
            {type:'cow',ticker:'UTHR',roiic:0.43,reinvRate:0.26,compPower:0.11,roic:0.21,vcr:2.1,gm:0.89,fcfNi:1.11,fcfDebt:3.60},
            {type:'cow',ticker:'RACE',roiic:0.36,reinvRate:0.50,compPower:0.18,roic:0.23,vcr:2.3,gm:0.50,fcfNi:1.26,fcfDebt:0.28},
            {type:'cow',ticker:'EXLS',roiic:0.32,reinvRate:0.29,compPower:0.09,roic:0.17,vcr:1.7,gm:0.38,fcfNi:1.35,fcfDebt:0.61},
            {type:'cow',ticker:'DECK',roiic:1.39,reinvRate:0.06,compPower:0.09,roic:0.91,vcr:9.1,gm:0.58,fcfNi:1.08,fcfDebt:3.46},
            {type:'cow',ticker:'MNESP',roiic:0.53,reinvRate:0.17,compPower:0.09,roic:0.17,vcr:1.7,gm:0.48,fcfNi:1.04,fcfDebt:0.43},
            {type:'cow',ticker:'LECO',roiic:0.35,reinvRate:0.50,compPower:0.18,roic:0.21,vcr:2.1,gm:0.37,fcfNi:1.29,fcfDebt:0.37},
            {type:'cow',ticker:'ABMD',roiic:0.22,reinvRate:0.43,compPower:0.09,roic:0.20,vcr:2.0,gm:0.82,fcfNi:2.09,fcfDebt:10.00},
            {type:'cow',ticker:'NFLX',roiic:0.97,reinvRate:-1.56,compPower:0,roic:0.28,vcr:2.8,gm:0.48,fcfNi:0.92,fcfDebt:0.65},
            {type:'cow',ticker:'MSA',roiic:0.53,reinvRate:0.17,compPower:0.09,roic:0.17,vcr:1.7,gm:0.48,fcfNi:1.04,fcfDebt:0.43},
            {type:'cow',ticker:'MORN',roiic:0.47,reinvRate:-0.24,compPower:0,roic:0.17,vcr:1.7,gm:0.61,fcfNi:1.60,fcfDebt:0.50},
            {type:'cow',ticker:'HLNE',roiic:0.41,reinvRate:0.27,compPower:0.11,roic:0.21,vcr:2.1,gm:0.71,fcfNi:1.49,fcfDebt:0.85},
            {type:'cow',ticker:'KLAC',roiic:0.65,reinvRate:0.15,compPower:0.10,roic:0.40,vcr:4.0,gm:0.62,fcfNi:1.00,fcfDebt:0.61},
            {type:'cow',ticker:'WTS',roiic:0.41,reinvRate:0.21,compPower:0.09,roic:0.18,vcr:1.8,gm:0.47,fcfNi:1.24,fcfDebt:1.65},
            {type:'cow',ticker:'FFIV',roiic:0.83,reinvRate:0.17,compPower:0.14,roic:0.17,vcr:1.7,gm:0.82,fcfNi:1.37,fcfDebt:3.46},
            {type:'cow',ticker:'KLCIX',roiic:0.87,reinvRate:0.03,compPower:0.02,roic:0.20,vcr:2.0,gm:0.65,fcfNi:1.04,fcfDebt:0.69},
            {type:'cow',ticker:'TT',roiic:0.66,reinvRate:0.10,compPower:0.06,roic:0.22,vcr:2.2,gm:0.36,fcfNi:1.08,fcfDebt:0.61},
            {type:'cow',ticker:'ALSN',roiic:1.35,reinvRate:0.14,compPower:0.19,roic:0.18,vcr:1.8,gm:0.47,fcfNi:1.10,fcfDebt:0.27},
            {type:'cow',ticker:'KARO',roiic:0.40,reinvRate:0.05,compPower:0.02,roic:0.38,vcr:3.8,gm:0.70,fcfNi:2.10,fcfDebt:1.28},
            {type:'cow',ticker:'MSI',roiic:0.75,reinvRate:0.18,compPower:0.14,roic:0.27,vcr:2.7,gm:0.51,fcfNi:1.51,fcfDebt:0.33},
            {type:'cow',ticker:'WSO',roiic:0.24,reinvRate:-0.14,compPower:0,roic:0.19,vcr:1.9,gm:0.27,fcfNi:1.22,fcfDebt:1.66},
            {type:'cow',ticker:'RMD',roiic:0.24,reinvRate:-0.02,compPower:0,roic:0.21,vcr:2.1,gm:0.59,fcfNi:1.25,fcfDebt:1.95},
            {type:'cow',ticker:'ODFL',roiic:0.38,reinvRate:0.30,compPower:0.11,roic:0.24,vcr:2.4,gm:0.35,fcfNi:1.40,fcfDebt:5.28},
            {type:'cow',ticker:'IDT',roiic:0.80,reinvRate:0.05,compPower:0.04,roic:0.71,vcr:7.1,gm:0.36,fcfNi:1.57,fcfDebt:54.65},
            {type:'cow',ticker:'G',roiic:0.51,reinvRate:0.19,compPower:0.10,roic:0.16,vcr:1.6,gm:0.35,fcfNi:1.20,fcfDebt:0.37},
            {type:'cow',ticker:'CTAS',roiic:0.41,reinvRate:0.22,compPower:0.09,roic:0.22,vcr:2.2,gm:0.50,fcfNi:1.20,fcfDebt:0.66},
            {type:'cow',ticker:'ROL',roiic:0.26,reinvRate:0.19,compPower:0.05,roic:0.24,vcr:2.4,gm:0.53,fcfNi:1.30,fcfDebt:0.71}
        ];
        let currentSort = { column: 'compPower', direction: 'desc' };
        let currentFilter = 'all';
        let searchQuery = '';
        function formatPercent(val) { return (val * 100).toFixed(0) + '%'; }
        function formatMultiple(val) { return val.toFixed(1) + 'x'; }
        function getMetricClass(value, thresholds) {
            if (value >= thresholds.great) return 'metric-great';
            if (value >= thresholds.good) return 'metric-good';
            if (value >= thresholds.warn) return 'metric-warn';
            return '';
        }
        function renderTable() {
            let filtered = stocks.filter(s => {
                if (currentFilter !== 'all' && s.type !== currentFilter) return false;
                if (searchQuery && !s.ticker.toLowerCase().includes(searchQuery.toLowerCase())) return false;
                return true;
            });
            filtered.sort((a, b) => {
                let aVal = a[currentSort.column], bVal = b[currentSort.column];
                if (typeof aVal === 'string') return currentSort.direction === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                return currentSort.direction === 'asc' ? aVal - bVal : bVal - aVal;
            });
            document.getElementById('tableBody').innerHTML = filtered.map(s => {
                const typeIcon = s.type === 'machine' ? 'ðŸš€' : 'ðŸ’°';
                const typeClass = s.type === 'machine' ? 'type-machine' : 'type-cow';
                return `<tr>
                    <td><span class="${typeClass}">${typeIcon}</span></td>
                    <td class="ticker">${s.ticker}</td>
                    <td class="metric ${getMetricClass(s.roiic, {great: 0.5, good: 0.3, warn: 0.2})}">${formatPercent(s.roiic)}</td>
                    <td class="metric ${s.reinvRate >= 0.2 ? 'metric-good' : s.reinvRate < 0 ? 'metric-warn' : ''}">${formatPercent(s.reinvRate)}</td>
                    <td class="metric ${getMetricClass(s.compPower, {great: 0.3, good: 0.2, warn: 0.1})}">${formatPercent(s.compPower)}</td>
                    <td class="metric ${getMetricClass(s.roic, {great: 0.3, good: 0.2, warn: 0.15})}">${formatPercent(s.roic)}</td>
                    <td class="metric ${getMetricClass(s.vcr, {great: 3, good: 2, warn: 1.5})}">${formatMultiple(s.vcr)}</td>
                    <td class="metric ${getMetricClass(s.gm, {great: 0.5, good: 0.35, warn: 0.25})}">${formatPercent(s.gm)}</td>
                    <td class="metric ${getMetricClass(s.fcfNi, {great: 1.2, good: 1.0, warn: 0.7})}">${formatPercent(s.fcfNi)}</td>
                    <td class="metric ${getMetricClass(s.fcfDebt, {great: 1.0, good: 0.5, warn: 0.25})}">${formatPercent(s.fcfDebt)}</td>
                </tr>`;
            }).join('');
        }
        function sortTable(column) {
            if (currentSort.column === column) currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            else { currentSort.column = column; currentSort.direction = 'desc'; }
            renderTable();
        }
        function filterType(type) {
            currentFilter = type;
            document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderTable();
        }
        function searchTicker(query) { searchQuery = query; renderTable(); }
        renderTable();
    </script>
</body>
</html>
